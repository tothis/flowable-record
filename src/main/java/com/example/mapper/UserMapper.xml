<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.mapper.UserMapper">

    <resultMap id="userDto" type="org.flowable.spring.security.UserDto">
        <id property="id" column="id"/>
        <result property="firstName" column="first_name"/>
        <result property="lastName" column="last_name"/>
        <result property="displayName" column="display_name"/>
        <result property="password" column="password"/>
    </resultMap>

    <select id="selectFlowUserByUserName" resultMap="userDto">
        SELECT
            id
            , first_name
            , last_name
            , display_name
        FROM
            act_id_user
        <where>
            <if test="displayName != null and displayName != ''">
                AND display_name LIKE "%"#{displayName}"%"
            </if>
        </where>
    </select>

    <insert id="insertFlowUser" keyProperty="id" useGeneratedKeys="true">
        INSERT INTO act_id_user (ID_, FIRST_, LAST_, DISPLAY_NAME_, PWD_)
        VALUES (UUID(), ${first_name}, ${last_name}, ${display_name}, ${password})
    </insert>
</mapper>